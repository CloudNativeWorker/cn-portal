(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae9287a0"],{"1c8e":function(t,e,a){"use strict";a("99af"),a("e9c4"),a("d3b7");var s=a("cee4"),i=a("d445"),n=a("3136"),o=a("5cc6"),r={props:{options:{type:Object,default:{}}},data:function(){return{progress:new i["a"]({color:"var(--progress-bar)"}),overrideProxyChoice:!1,overrideUpdateInterval:null,disableLoader:!1,updater:null,defaultTimeout:5e4}},mounted:function(){this.fetchData(),this.updateInterval&&(this.continuousUpdates(),this.disableLoader=!0)},beforeDestroy:function(){this.updater&&clearInterval(this.updater)},computed:{proxyReqEndpoint:function(){var t=Object({NODE_ENV:"production",VUE_APP_VERSION:"2.1.2",BASE_URL:"/"}).VUE_APP_DOMAIN||window.location.origin;return"".concat(t).concat(o["serviceEndpoints"].corsProxy)},useProxy:function(){return this.options.useProxy||this.overrideProxyChoice},updateInterval:function(){var t=this.options.updateInterval;return null===t&&this.overrideUpdateInterval?1e3*this.overrideUpdateInterval:t?"boolean"===typeof t?3e4:"number"===typeof t&&t>=2&&t<=7200?1e3*t:0:0}},methods:{update:function(){this.startLoading(),this.fetchData()},continuousUpdates:function(){var t=this;this.updater=setInterval((function(){t.update()}),this.updateInterval)},error:function(t,e){Object(n["e"])(t,e),this.options.ignoreErrors||this.$emit("error",t)},startLoading:function(){this.disableLoader||(this.$emit("loading",!0),this.progress.start())},finishLoading:function(){var t=this;this.$emit("loading",!1),setTimeout((function(){t.progress.end()}),500)},fetchData:function(){this.finishLoading()},tooltip:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{content:t,html:e,trigger:"hover focus",delay:250}},makeRequest:function(t,e,a,i){var n=this,o=a||"GET",r=this.useProxy?this.proxyReqEndpoint:t,c=JSON.stringify(i||{}),l=e||null,u=this.useProxy?{"Target-URL":t,CustomHeaders:JSON.stringify(l)}:l,d=this.options.timeout||this.defaultTimeout,h={method:o,url:r,headers:u,data:c,timeout:d};return new Promise((function(t,e){s["a"].request(h).then((function(e){!1===e.data.success&&n.error("Proxy returned error from target server",e.data.message),t(e.data)})).catch((function(t){n.error("Unable to fetch data",t),e(t)})).finally((function(){n.finishLoading()}))}))}}};e["a"]=r},"31a4":function(t,e,a){},"49e4":function(t,e,a){"use strict";a("e6cb")},5213:function(t,e,a){"use strict";a("d826")},"5f5d":function(t,e,a){"use strict";a("31a4")},6152:function(t,e,a){"use strict";a("99af");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"percentage-chart-wrapper"},[t.title?e("div",{staticClass:"title"},[e("p",[t._v(t._s(t.title))])]):t._e(),e("div",{staticClass:"percentage-chart",style:t.makeWrapperStyles(t.height)},t._l(t.blocks,(function(a,s){return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"".concat(a.label," - ").concat(a.width,"%"),expression:"`${block.label} - ${block.width}%`"}],key:s,staticClass:"inner",style:t.makeDimens(a)})})),0),t.showLegend?e("div",{staticClass:"legend"},t._l(t.blocks,(function(a,s){return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"".concat(Math.round(a.width),"% (").concat(a.value,")"),expression:"`${Math.round(block.width)}% (${block.value})`"}],key:s,staticClass:"legend-item"},[a.label?e("div",{staticClass:"dot",style:t.makeDotColor(a)}):t._e(),a.label?e("div",{staticClass:"txt"},[t._v(t._s(a.label))]):t._e()])})),0):t._e()])},i=[],n=(a("14d9"),a("13d5"),a("d3b7"),a("159b"),a("ddb0"),{props:{showAsPercent:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!0},height:{number:Boolean,default:1},values:Array,title:String},data:function(){return{defaultColors:["#eb5cad","#985ceb","#5346f3","#5c90eb","#5cdfeb","#00CCB4","#5ceb8d","#afeb5c","#eff961"]}},computed:{blocks:function(){var t=this,e=0,a=[],s=this.values.reduce((function(t,e){return(t.size||t)+e.size})),i=this.showAsPercent?100/s:1;return this.values.forEach((function(s,n){var o=t.defaultColors[n%t.defaultColors.length];a.push({start:e,width:Math.round(s.size*i),color:s.color||o,label:s.label,value:s.size}),e+=s.size*i})),a}},methods:{makeDimens:function(t){return"margin-left: ".concat(t.start,"%; width: ").concat(t.width,"%; background: ").concat(t.color)},makeDotColor:function(t){return"background: ".concat(t.color,";")},makeWrapperStyles:function(t){return"height: ".concat(t,"rem")}}}),o=n,r=(a("5f5d"),a("2877")),c=Object(r["a"])(o,s,i,!1,null,"b3e246fa",null);e["a"]=c.exports},"81d5":function(t,e,a){"use strict";var s=a("7b0b"),i=a("23cb"),n=a("07fa");t.exports=function(t){var e=s(this),a=n(e),o=arguments.length,r=i(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,l=void 0===c?a:i(c,a);while(l>r)e[r++]=t;return e}},a492:function(t,e,a){"use strict";a.r(e);a("a4d3"),a("e01a");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"anonaddy-wrapper"},[t.meta&&!t.hideMeta?e("div",{staticClass:"account-info"},[e("PercentageChart",{attrs:{title:"Mail Stats",values:[{label:"Forwarded",size:t.meta.forwardCount,color:"#20e253"},{label:"Blocked",size:t.meta.blockedCount,color:"#f80363"},{label:"Replies",size:t.meta.repliesCount,color:"#04e4f4"},{label:"Sent",size:t.meta.sentCount,color:"#f6f000"}]}}),e("div",{staticClass:"meta-item"},[e("span",{staticClass:"lbl"},[t._v("Bandwidth")]),e("span",{staticClass:"val"},[t._v(" "+t._s(t._f("formatBytes")(t.meta.bandwidth))+" out of "+t._s(1e8!==t.meta.bandwidthLimit?t.formatBytes(t.meta.bandwidthLimit):"∞")+" ")])]),e("div",{staticClass:"meta-item"},[e("span",{staticClass:"lbl"},[t._v("Active Domains")]),e("span",{staticClass:"val"},[t._v(t._s(t.meta.activeDomains)+" out of "+t._s(t.meta.activeDomainsLimit))])]),e("div",{staticClass:"meta-item"},[e("span",{staticClass:"lbl"},[t._v("Shared Domains")]),e("span",{staticClass:"val"},[t._v(t._s(t.meta.sharedDomains)+" out of "+t._s(t.meta.sharedDomainsLimit||"∞"))])]),e("div",{staticClass:"meta-item"},[e("span",{staticClass:"lbl"},[t._v("Usernames")]),e("span",{staticClass:"val"},[t._v(t._s(t.meta.usernamesCount)+" out of "+t._s(t.meta.usernamesLimit||"∞"))])])],1):t._e(),t.aliases&&!t.hideAliases?e("div",{staticClass:"email-list"},t._l(t.aliases,(function(a){return e("div",{key:a.id,staticClass:"email-row"},[e("div",{staticClass:"row-1"},[t.disableControls?t._e():e("Toggle",{attrs:{defaultState:a.active,id:a.id,hideLabels:!0},on:{change:t.toggleAlias}}),t.disableControls?e("span",{class:"status ".concat(a.active?"active":"inactive")},[t._v("●")]):t._e(),e("div",{staticClass:"address-copy",attrs:{title:"Click to Copy"},on:{click:function(e){return t.copyToClipboard(a.fullEmail)}}},[e("span",{staticClass:"txt-email"},[t._v(t._s(a.email))]),e("span",{staticClass:"txt-at"},[t._v("@")]),e("span",{staticClass:"txt-domain"},[t._v(t._s(a.domain))])]),e("ClipboardIcon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip("Copy alias to clipboard"),expression:"tooltip('Copy alias to clipboard')"}],staticClass:"copy-btn",on:{click:function(e){return t.copyToClipboard(a.fullEmail)}}})],1),a.description?e("div",{staticClass:"row-2"},[e("span",{staticClass:"description"},[t._v(t._s(a.description))])]):t._e(),e("div",{staticClass:"row-3"},[e("span",{staticClass:"lbl"},[t._v("Forwarded")]),e("span",{staticClass:"val"},[t._v(t._s(a.forwardCount))]),e("span",{staticClass:"lbl"},[t._v("Blocked")]),e("span",{staticClass:"val"},[t._v(t._s(a.blockedCount))]),e("span",{staticClass:"lbl"},[t._v("Replied")]),e("span",{staticClass:"val"},[t._v(t._s(a.repliesCount))]),e("span",{staticClass:"lbl"},[t._v("Sent")]),e("span",{staticClass:"val"},[t._v(t._s(a.sentCount))])]),e("div",{staticClass:"row-4"},[e("span",{staticClass:"lbl"},[t._v("Created")]),e("span",{staticClass:"val as-date"},[t._v(t._s(t._f("formatDate")(a.createdAt)))]),e("span",{staticClass:"val as-time-ago"},[t._v(t._s(t._f("formatTimeAgo")(a.createdAt)))])])])})),0):t._e(),t.numPages&&!t.hideAliases?e("div",{staticClass:"pagination"},[e("span",{staticClass:"page-num first",on:{click:function(e){return t.goToFirst()}}},[t._v("«")]),1!==t.paginationRange[0]?e("span",{staticClass:"page-num",on:{click:function(e){return t.goToPrevious()}}},[t._v("...")]):t._e(),t._l(t.paginationRange,(function(a){return e("span",{key:a,class:"page-num ".concat(a===t.currentPage?"selected":""),on:{click:function(e){return t.goToPage(a)}}},[t._v(t._s(a))])})),t.paginationRange[t.paginationRange.length-1]<t.numPages?e("span",{staticClass:"page-num",on:{click:function(e){return t.goToNext()}}},[t._v("...")]):t._e(),e("span",{staticClass:"page-num last",on:{click:function(e){return t.goToLast()}}},[t._v("»")]),e("p",{staticClass:"page-status"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.numPages))])],2):t._e()])},i=[],n=(a("99af"),a("cb29"),a("d81d"),a("14d9"),a("d3b7"),a("159b"),a("fb6a"),function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-switch",class:{active:t.isActive},attrs:{for:t.id+"_button"}},[t.hideLabels?t._e():e("span",{staticClass:"toggle__label"},[t._v(t._s(t.isActive?t.enableText:t.disabledText))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValue,expression:"checkedValue"}],attrs:{type:"checkbox",disabled:t.disabled,id:t.id+"_button"},domProps:{checked:Array.isArray(t.checkedValue)?t._i(t.checkedValue,null)>-1:t.checkedValue},on:{change:function(e){var a=t.checkedValue,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);s.checked?o<0&&(t.checkedValue=a.concat([n])):o>-1&&(t.checkedValue=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedValue=i}}}),e("span",{staticClass:"switch"})])}),o=[],r={props:{disabled:{type:Boolean,default:!1},labelEnableText:{type:String,default:"On"},labelDisableText:{type:String,default:"Off"},id:{type:String,default:"primary"},defaultState:{type:Boolean,default:!1},hideLabels:{type:Boolean,default:!1}},data:function(){return{currentState:this.defaultState}},watch:{defaultState:function(){this.currentState=Boolean(this.defaultState)}},computed:{isActive:function(){return this.currentState},enableText:function(){return this.labelEnableText},disabledText:function(){return this.labelDisableText},checkedValue:{get:function(){return this.currentState},set:function(t){this.currentState=t,this.$emit("change",t,this.id)}}}},c=r,l=(a("5213"),a("2877")),u=Object(l["a"])(c,n,o,!1,null,"0c7e3038",null),d=u.exports,h=a("6152"),p=a("1c8e"),f=a("5cc6"),m=a("b96f"),v=a("82fb"),g=a.n(v),_={mixins:[p["a"]],components:{Toggle:d,PercentageChart:h["a"],ClipboardIcon:g.a},data:function(){return{aliases:null,meta:null,numPages:null,currentPage:1}},computed:{hostname:function(){return this.options.hostname||f["widgetApiEndpoints"].anonAddy},apiVersion:function(){return this.options.apiVersion||"v1"},limit:function(){return this.options.limit||"10"},sortBy:function(){return this.options.sortBy||"updated_at"},searchTerm:function(){return this.options.searchTerm||""},disableControls:function(){return this.options.disableControls||!1},apiKey:function(){return this.options.apiKey||this.error("An apiKey is required"),this.options.apiKey},hideMeta:function(){return this.options.hideMeta},hideAliases:function(){return this.options.hideAliases},endpoint:function(){return"".concat(this.hostname,"/api/").concat(this.apiVersion,"/aliases?")+"sort=".concat(this.sortBy,"&filter[search]=").concat(this.searchTerm)+"&page[number]=".concat(this.currentPage,"&page[size]=").concat(this.limit)},aliasCountEndpoint:function(){return"".concat(this.hostname,"/api/").concat(this.apiVersion,"/aliases?filter[search]=").concat(this.searchTerm)},accountInfoEndpoint:function(){return"".concat(this.hostname,"/api/").concat(this.apiVersion,"/account-details")},headers:function(){return{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer ".concat(this.apiKey)}},paginationRange:function(){var t=function(t,e){return Array(e-t+1).fill().map((function(e,a){return t+a}))},e=this.numPages>10?10:this.numPages;return this.currentPage>e?t(this.currentPage-e,this.currentPage):t(1,e)}},filters:{formatDate:function(t){return Object(m["r"])(t)},formatTimeAgo:function(t){return Object(m["l"])(t)},formatBytes:function(t){return Object(m["d"])(t)}},created:function(){this.fetchAccountInfo()},methods:{copyToClipboard:function(t){navigator.clipboard.writeText(t),this.$toasted.show("Email address copied to clipboard")},fetchData:function(){this.makeRequest(this.endpoint,this.headers).then(this.processData)},fetchAccountInfo:function(){var t=this;this.makeRequest(this.accountInfoEndpoint,this.headers).then(this.processAccountInfo),this.makeRequest(this.aliasCountEndpoint,this.headers).then((function(e){t.numPages=Math.floor(e.data.length/t.limit)}))},processData:function(t){this.currentPage=t.meta.current_page;var e=[];t.data.forEach((function(t){e.push({id:t.id,active:t.active,domain:t.domain,email:t.local_part,recipients:t.recipients,description:t.description,forwardCount:t.emails_forwarded,blockedCount:t.emails_blocked,repliesCount:t.emails_replied,sentCount:t.emails_sent,createdAt:t.created_at,updatedAt:t.updated_at,deletedAt:t.deleted_at,fullEmail:t.email})})),this.aliases=e},processAccountInfo:function(t){var e=t.data;this.meta={name:t.username||e.from_name,bandwidth:e.bandwidth,bandwidthLimit:e.bandwidth_limit||1e8,activeDomains:e.active_domain_count,activeDomainsLimit:e.active_domain_limit,sharedDomains:e.active_shared_domain_alias_count,sharedDomainsLimit:e.active_shared_domain_alias_limit,usernamesCount:e.username_count,usernamesLimit:e.username_limit,forwardCount:e.total_emails_forwarded,blockedCount:e.total_emails_blocked,repliesCount:e.total_emails_replied,sentCount:e.total_emails_sent}},toggleAlias:function(t,e){var a=this;if(this.disableControls)this.$toasted.show("Error, controls disabled",{className:"toast-error"});else{var s=t?"POST":"DELETE",i=t?"active-aliases":"active-aliases/".concat(e),n=t?{id:e}:{},o="".concat(this.hostname,"/api/").concat(this.apiVersion,"/").concat(i);this.makeRequest(o,this.headers,s,n).then((function(){var e="Alias successfully ".concat(t?"enabled":"disabled");a.$toasted.show(e,{className:"toast-success"})}))}},goToPage:function(t){this.progress.start(),this.currentPage=t,this.fetchData()},goToFirst:function(){this.goToPage(1)},goToLast:function(){this.goToPage(this.numPages)},goToPrevious:function(){this.currentPage>1&&this.goToPage(this.currentPage-1)},goToNext:function(){this.currentPage<this.numPages&&this.goToPage(this.currentPage+1)}}},b=_,C=(a("49e4"),Object(l["a"])(b,s,i,!1,null,"31d7a56f",null));e["default"]=C.exports},cb29:function(t,e,a){"use strict";var s=a("23e7"),i=a("81d5"),n=a("44d2");s({target:"Array",proto:!0},{fill:i}),n("fill")},d826:function(t,e,a){},e6cb:function(t,e,a){}}]);
//# sourceMappingURL=chunk-ae9287a0.246255c3.js.map