(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8db027b8"],{"1c8e":function(e,t,s){"use strict";s("99af"),s("e9c4"),s("d3b7");var a=s("cee4"),n=s("d445"),i=s("3136"),o=s("5cc6"),u={props:{options:{type:Object,default:{}}},data:function(){return{progress:new n["a"]({color:"var(--progress-bar)"}),overrideProxyChoice:!1,overrideUpdateInterval:null,disableLoader:!1,updater:null,defaultTimeout:5e4}},mounted:function(){this.fetchData(),this.updateInterval&&(this.continuousUpdates(),this.disableLoader=!0)},beforeDestroy:function(){this.updater&&clearInterval(this.updater)},computed:{proxyReqEndpoint:function(){var e=Object({NODE_ENV:"production",VUE_APP_VERSION:"2.1.2",BASE_URL:"/"}).VUE_APP_DOMAIN||window.location.origin;return"".concat(e).concat(o["serviceEndpoints"].corsProxy)},useProxy:function(){return this.options.useProxy||this.overrideProxyChoice},updateInterval:function(){var e=this.options.updateInterval;return null===e&&this.overrideUpdateInterval?1e3*this.overrideUpdateInterval:e?"boolean"===typeof e?3e4:"number"===typeof e&&e>=2&&e<=7200?1e3*e:0:0}},methods:{update:function(){this.startLoading(),this.fetchData()},continuousUpdates:function(){var e=this;this.updater=setInterval((function(){e.update()}),this.updateInterval)},error:function(e,t){Object(i["e"])(e,t),this.options.ignoreErrors||this.$emit("error",e)},startLoading:function(){this.disableLoader||(this.$emit("loading",!0),this.progress.start())},finishLoading:function(){var e=this;this.$emit("loading",!1),setTimeout((function(){e.progress.end()}),500)},fetchData:function(){this.finishLoading()},tooltip:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{content:e,html:t,trigger:"hover focus",delay:250}},makeRequest:function(e,t,s,n){var i=this,o=s||"GET",u=this.useProxy?this.proxyReqEndpoint:e,r=JSON.stringify(n||{}),c=t||null,l=this.useProxy?{"Target-URL":e,CustomHeaders:JSON.stringify(c)}:c,d=this.options.timeout||this.defaultTimeout,p={method:o,url:u,headers:l,data:r,timeout:d};return new Promise((function(e,t){a["a"].request(p).then((function(t){!1===t.data.success&&i.error("Proxy returned error from target server",t.data.message),e(t.data)})).catch((function(e){i.error("Unable to fetch data",e),t(e)})).finally((function(){i.finishLoading()}))}))}}};t["a"]=u},"2e26":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sabznbd"},[t("div",{staticClass:"intro"},[t("p",{staticClass:"download"},[e._v(e._s(e.download_speed))]),t("em",{class:"fas fa-".concat(e.status)})]),e.sabnzbdDetails.length>0?t("div",{staticClass:"details"},e._l(e.sabnzbdDetails,(function(s,a){return t("div",{key:a,staticClass:"info-wrap"},e._l(s,(function(s){return t("p",{key:s.label,staticClass:"info-line"},[t("span",{staticClass:"lbl"},[e._v(e._s(s.label))]),t("span",{staticClass:"val"},[e._v(e._s(s.value))])])})),0)})),0):e._e(),e.showQueue&&e.sabnzbdQueue.length>0?t("div",{staticClass:"details"},[t("div",{staticClass:"info-wrap"},e._l(e.sabnzbdQueue,(function(s){return t("p",{key:s.label,staticClass:"info-line"},[t("em",{class:"fas fa-".concat(s.status)}),t("span",{staticClass:"lbl"},[e._v(e._s(s.filename))]),t("span",{staticClass:"lbl"},[e._v(e._s(s.percentage)+"%")])])})),0)]):e._e(),e.sabnzbdQueue.length>0?t("p",{staticClass:"more-details-btn",on:{click:e.toggleQueue}},[e._v(" "+e._s(e.showQueue?"Hide Queue":"Show Queue")+" ")]):e._e()])},n=[],i=(s("99af"),s("caad"),s("14d9"),s("a9e3"),s("b680"),s("1c8e")),o={mixins:[i["a"]],data:function(){return{download_speed:null,status:null,sabnzbdDetails:[],showQueue:!1,sabnzbdQueue:[]}},mounted:function(){this.checkProps()},computed:{endpoint:function(){var e=this.options,t=e.apiKey,s=e.sabnzbdUrl;return"".concat(s,"/sabnzbd/api?output=json&apikey=").concat(t,"&mode=queue")}},methods:{processKBperSec:function(e){return e<=1024?"".concat(Number(e).toFixed(0)," kb/s"):"".concat(Number(e/1024).toFixed(1)," mb/s")},processPaused:function(e){return!0===e?"pause":"play"},processPausedStr:function(e){return["Queued","Paused"].includes(e)?"pause":"play"},fetchData:function(){this.makeRequest(this.endpoint).then(this.processData)},processData:function(e){this.download_speed=this.processKBperSec(e.queue.kbpersec),this.status=this.processPaused(e.queue.paused),this.options.hideDetails||this.makeSabnzbdataData(e),this.options.hideQueue||this.makeSabnzbdataQueueData(e)},makeSabnzbdataData:function(e){this.sabnzbdDetails=[[{label:"Time Left",value:e.queue.timeleft},{label:"Queue",value:e.queue.noofslots}],[{label:"Status",value:e.queue.status},{label:"Size Left",value:e.queue.sizeleft}]]},makeSabnzbdataQueueData:function(e){this.sabnzbdQueue=[];var t=0;for(t;t<e.queue.slots.length;t+=1)this.sabnzbdQueue.push({status:this.processPausedStr(e.queue.slots[t].status),filename:e.queue.slots[t].filename.substring(0,25),percentage:e.queue.slots[t].percentage})},toggleQueue:function(){this.showQueue=!this.showQueue},checkProps:function(){var e=this.options;e.sabnzbdUrl||this.error("Missing URL for Sabnzbd. Configure sabnzbdUrl in config file."),e.apiKey||this.error("Missing API key for Sabnzbd. Configure apiKey in config file.")}}},u=o,r=(s("4683"),s("2877")),c=Object(r["a"])(u,a,n,!1,null,"532088d6",null);t["default"]=c.exports},4683:function(e,t,s){"use strict";s("90e78")},"90e78":function(e,t,s){}}]);
//# sourceMappingURL=chunk-8db027b8.8a8fd67b.js.map